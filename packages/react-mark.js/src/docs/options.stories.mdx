import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks'
import Marker from '../Marker'

<Meta title="Options/Mark Options" component={Marker} />

# Mark Options
Any of the following options can be passed 
to the options prop in the available components
or hooks.  If you scroll below, an example of 
`<Marker />` element with few of these options
is shown.

<table>
    <tbody>
        <tr><td>element</td><td>string</td><td>"mark"</td><td>HTML element to wrap matches, e.g. <code>span</code></td></tr>
        <tr><td>className</td><td>string</td><td>""</td><td>A class name that will be appended to <code>element</code></td></tr>
        <tr><td>exclude</td><td>array</td><td>[ ]</td><td>An array with exclusion selectors. Matches inside these elements will be ignored. Example: <code>"filter": ["h1", ".ignore"]</code></td></tr>
        <tr><td>separateWordSearch</td><td>boolean</td><td>true</td><td>Whether to search for each word separated by a blank instead of the complete term</td></tr>
        <tr><td>accuracy</td><td>string or object</td><td>"partially"</td><td>Either one of the following string values:<ul><li>"partially": When searching for "lor" only "lor" inside "lorem" will be marked</li><li>"complementary": When searching for "lor" the whole word "lorem" will be marked</li><li>"exactly": When searching for "lor" only those exact words with a word boundary will be marked. In this example nothing inside "lorem". This value is equivalent to the previous option <i>wordBoundary</i></li></ul>Or an object containing two properties:<ul><li>"value": One of the above named string values</li><li>"limiters": A custom array of string limiters for accuracy "exactly" or "complementary". Read more about this <a href="#accuracy">in the tutorials section</a></li></ul></td></tr>
        <tr><td>diacritics</td><td>boolean</td><td>true</td><td>If <a href="https://en.wikipedia.org/wiki/Diacritic">diacritic</a> characters should be matched. For example "piękny" would also match "piekny" and "doner" would also match "döner"</td></tr>
        <tr><td>synonyms</td><td>object</td><td>&#123;&#125;</td><td>An object with synonyms. The key will be a synonym for the value and the value for the key. Example: <code>synonyms: &#123;"one": "1"&#125;</code> will add the synonym "1" for "one" and vice versa</td></tr> 
        <tr><td>iframes</td><td>boolean</td><td>false</td><td>Whether to search also inside iframes. If you don't have permissions to some iframes (e.g. because they have a <a href="https://en.wikipedia.org/wiki/Same-origin_policy">different origin</a>) they will be silently skipped. If you don't want to search inside specific iframes (e.g. facebook share), you can pass an <code>exclude</code> selector that matches these iframes</td></tr>
        <tr><td>iframesTimeout</td><td>number</td><td>5000</td><td>The maximum ms to wait for a <code>load</code> event before skipping an iframe. Especially important when there's no internet connection or a browser "offline" mode is enabled and an iframe has an online <code>src</code> – then the <code>load</code> event is never fired</td></tr>
        <tr><td>acrossElements</td><td>boolean</td><td>false</td><td>Whether to search for matches across elements</td></tr>
        <tr><td>caseSensitive</td><td>boolean</td><td>false</td><td>Whether to search case sensitive</td></tr>
        <tr><td>ignoreJoiners</td><td>boolean</td><td>false</td><td>Whether to also find matches that contain soft hyphen, zero width space, zero width non-joiner and zero width joiner. They're used to indicate a point for a line break where there isn't enough space to show the full word</td></tr>
        <tr><td>ignorePunctuation</td><td>array</td><td>[ ]</td><td>An array of punctuation mark strings. These punctuation marks can be between any characters, e.g. setting this option to <code>["'"]</code> would match "Worlds", "World's" and "Wo'rlds". One or more apostrophes between the letters would still produce a match (e.g. "W'o''r'l'd's"). A typical setting for this option could be as follows: <code>":;.,-–—‒_(){}[]!'\"+=".split("")</code></td></tr>
        <tr><td>wildcards</td><td>string</td><td>"disabled"</td><td>Set to any of the following string values:<ul><li>"disabled": Disable wildcard usage</li><li>"enabled": When searching for "lor?m", the "?" will match zero or one non-space character (e.g. "lorm", "loram", "lor3m", etc). When searching for "lor*m", the "*" will match zero or more non-space characters (e.g. "lorm", "loram", "lor123m", etc).</li><li>"withSpaces": When searching for "lor?m", the "?" will match zero or one space or non-space character (e.g. "lor m", "loram", etc). When searching for "lor*m", the "*" will match zero or more space or non-space characters (e.g. "lorm", "lore et dolor ipsum", "lor: m", etc).</li></ul></td></tr>
        <tr><td>each</td><td>function</td><td></td><td>A callback for each marked element. Receives the marked DOM element as a parameter</td></tr>
        <tr><td>filter</td><td>function</td><td></td><td>A callback to filter or limit matches. It will be called for each match and receives the following parameters:<ol><li>The text node which includes the match</li><li>The term that has been found</li><li>A counter indicating the total number of all marks at the time of the function call</li><li>A counter indicating the number of marks for the term</li></ol>The function must return false if the mark should be stopped, otherwise true</td></tr>
        <tr><td>noMatch</td><td>function</td><td></td><td>A callback function that will be called when there are no matches. Receives the not found term as a parameter</td></tr>
        <tr><td>done</td><td>function</td><td></td><td>A callback function after all marks are done. Receives the total number of marks as a parameter</td></tr>
        <tr><td>debug</td><td>boolean</td><td>false</td><td>Set this option to <code>true</code> if you want to log messages</td></tr>
        <tr><td>log</td><td>object</td><td>console</td><td>Log messages to a specific object (only if <code>debug</code> is true)</td></tr>
    </tbody>
</table>



export const Template = (args) => <Marker {...args} />
const args = {
    children: [
        "Cillum proident eu eiusmod incididunt pariatur. ",
        "Ullamco qui deserunt ut reprehenderit cupidatat ",
        "cupidatat nisi non occaecat non commodo. ",
        "Magna incididunt eu laboris laboris labore... "
    ],
    mark: "Ullamco qui deserunt ut reprehenderit"
}

# Basic Example Using Custom Options
<Canvas>
    <Story 
        name="With Maqrk Options" 
        args={{
            ...args,
            mark: "eiusmod",
            options: {
                className: 'custom-class-1',
                synonyms: {
                    "eiusmod": "commodo"
                }
            }
        }}
    >
        {args => <Marker {...args} />}
    </Story>
</Canvas>

> If you view the mark element in the developer console;
 you'll notice that it has a `custom-class-1` class.

